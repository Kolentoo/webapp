<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>TV</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<script src="../js/mui.js"></script>
		<link rel="stylesheet" href="../css/mui.min.css">
	    <link rel="stylesheet" type="text/css" href="../css/core.css"/>
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.2/css/swiper.min.css">
	    <link rel="stylesheet" href="../css/kolento.css" />
	</head>

	<body>
		<div class="ranking" id="ranking">

			<div class="swiper-container">
			    <div class="swiper-wrapper">
			        <div class="swiper-slide" v-for="(item,idx) in subjectbox" :key="idx">
			        	
			        	
			        </div>
			    </div>
                
			</div>
		</div>

		
		<script src="../js/util.js"></script>
	    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.2/js/swiper.min.js"></script>
    	<script src="../js/kolento.js"></script>
    	<script>
    		(function() {
				mui.init();
				
    		})();
    		
 
			 
			 var ranking = new Vue({
			 	el:'#ranking',
			 	data(){
			 		return{
						subjectbox:[
							
						],
                        page:1,
                		playstatus:true
			 		}
			 	},
			 	created(){
					this.newmsg();
			 		this.$nextTick(()=>{
                		
						var mySwiper = new Swiper ('.swiper-container', {
						    direction: 'vertical',
						    width: window.innerWidth,
						    height: window.innerHeight,
		                    on: {
		                        slideChangeTransitionEnd: ()=>{
		                            this.newmsg();
		                        }
		                    }
						}) 
					
			 		})
			 	},
			 	methods:{
			 		newmsg(){
		                if(this.page<90){
		                    axios.get(`https://xkolento.cn/2017/${this.page}`,{
		
		                    }).then((res)=>{
		                        this.subjectbox.push(res.data.res);
		                        console.log(this.subjectbox)
		                        if(this.page===6||this.page===53){
		                            this.page+=2
		                        }else if(this.page===81){
		                            this.page+=3
		                        }else if(this.page===90){
		                            return false
		                        }else{
		                            this.page+=1
		                        }
		                    })
		                }
			 		}
			 	}
			 })
    	</script>
	</body>
</html>